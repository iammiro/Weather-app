!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.favoriteCities=t.units=t.recentlyViewedCities=t.currentUserPosition=t.defaultCoordinates=t.appSettings=void 0;var r={container:document.getElementById("container"),apiUrl:"https://api.darksky.net/forecast/",proxy:"https://cors-anywhere.herokuapp.com/",apiKey:"c0edd7e111d453106e09ff75c17397b8",appURL:"https://iammiro.github.io/Weather-app/dist/",init:{method:"GET",mode:"cors",cache:"default"}};t.appSettings=r;var o=new Map;t.currentUserPosition=o;var i=new Map;t.recentlyViewedCities=i;var a=window.localStorage;t.favoriteCities=a;var c=new Map;t.units=c;var s=[50.4501,30.5241];t.defaultCoordinates=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getForecastFromApi=void 0;var r=n(0),o=n(4),i=function(e,t){var n="".concat(r.appSettings.proxy).concat(r.appSettings.apiUrl).concat(r.appSettings.apiKey,"/").concat(e,",").concat(t,"?units=").concat(r.units.get("units"));fetch(n,r.appSettings.init).then(function(e){return e.json()}).then(o.renderForecast).catch(function(e){console.log(e)})};t.getForecastFromApi=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCoordinatesToMapStorage=void 0;var r=n(0),o=function(e,t){r.currentUserPosition.set("latitude",e),r.currentUserPosition.set("longitude",t)};t.setCoordinatesToMapStorage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addHistoryState=void 0;var r=n(0),o=function(e,t){history.pushState("data to be passed","Weather App","".concat(r.appSettings.appURL,"?lat=").concat(e,"&lang=").concat(t))};t.addHistoryState=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderForecast=t.renderForecastItem=t.renderForecastImgItem=void 0;var r=n(0),o=function(e,t){document.getElementById(e).src=t};t.renderForecastImgItem=o;var i=function(e,t){document.getElementById(e).innerHTML=t};t.renderForecastItem=i;var a=function(e){e.daily.data.forEach(function(e,t){var n=new Date(1e3*e.time),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=a[n.getDay()];o("icon-".concat(t),"".concat(r.appSettings.appURL,"/img/").concat(e.icon,".svg")),i("header-".concat(t),"".concat(c)),i("under-header-".concat(t),"&#9790; ".concat(Math.round(e.temperatureMin),"˚ &#8594; &#9788; ").concat(Math.round(e.temperatureMax),"˚ ").concat(r.units.get("temperature"),".")),i("summary-".concat(t),"".concat(e.summary)),i("windSpeed-".concat(t),"Wind:<br><br> ".concat(Math.round(e.windSpeed)," ").concat(r.units.get("speed"))),i("humidity-".concat(t),"Humidity:<br><br> ".concat(Math.round(e.humidity)," %")),i("dewPoint-".concat(t),"Dew Pt:<br><br> ".concat(Math.round(e.dewPoint),"˚")),i("uvIndex-".concat(t),"UV Index:<br><br> ".concat(Math.round(e.uvIndex))),i("pressure-".concat(t),"Pressure:<br><br> ".concat(Math.round(e.pressure)," hPa"))})};t.renderForecast=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCityToRecentlyFavoriteCities=t.setCityToRecentlyViewedCities=void 0;var r=n(0),o=n(3),i=n(1),a=n(6),c=n(2),s=function(e,t){var n=document.getElementById("address").value;r.recentlyViewedCities.set("".concat(n),[e,t]);var s=r.recentlyViewedCities.get("".concat(n)),u=s[0],d=s[1];(0,a.createRecentlyViewedCitiesBlockItem)(n),document.getElementById("".concat(n)).addEventListener("click",function(){(0,c.setCoordinatesToMapStorage)(u,d),(0,o.addHistoryState)(u,d),(0,i.getForecastFromApi)(r.currentUserPosition.get("latitude"),r.currentUserPosition.get("longitude"))})};t.setCityToRecentlyViewedCities=s;var u=function(){var e=document.getElementById("address").value;console.log(e),r.favoriteCities.setItem("".concat(e),"".concat(e)),console.log(r.favoriteCities.getItem("".concat(e))),(0,a.createFavoriteCitiesBlockItem)(e),document.getElementById("".concat(e,"-favorite-city")).addEventListener("click",function(){})};t.setCityToRecentlyFavoriteCities=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFavoriteCitiesBlockItem=t.createForecastTemplate=t.createRecentlyViewedCitiesBlockItem=void 0;var r=n(0),o=n(4),i=function(e){c(document.getElementById("recently-viewed-cities-block"),"li","".concat(e)),(0,o.renderForecastItem)("".concat(e),"".concat(e))};t.createRecentlyViewedCitiesBlockItem=i;var a=function(e){c(document.getElementById("favorite-cities-block"),"option","".concat(e,"-favorite-city")),(0,o.renderForecastItem)("".concat(e,"-favorite-city"),"".concat(e))};t.createFavoriteCitiesBlockItem=a;var c=function(e,t,n,r){var o=document.createElement(t);o.id=n,o.classList=r,e.appendChild(o)},s=function(){var e=document.createElement("div");e.id="forecast-wrapper";for(var t=0;t<8;t++){var n=document.createElement("section");n.className="individual-day-forecast-wrapper";var o=document.createElement("section");o.className="individual-day-forecast-footer-wrapper",c(n,"div","header-".concat(t),"forecast-header"),c(n,"img","icon-".concat(t),"forecast-icon"),c(n,"div","under-header-".concat(t),"forecast-day-temperature"),c(n,"div","summary-".concat(t),"forecast-summary"),c(o,"div","windSpeed-".concat(t),"forecast-wind-speed forecast-item"),c(o,"div","humidity-".concat(t),"forecast-humidity forecast-item"),c(o,"div","dewPoint-".concat(t),"forecast-dew-point forecast-item"),c(o,"div","uvIndex-".concat(t),"forecast-uv-index forecast-item"),c(o,"div","pressure-".concat(t),"forecast-pressure forecast-item"),n.appendChild(o),e.appendChild(n)}r.appSettings.container.appendChild(e)};t.createForecastTemplate=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParamFromUrl=t.getCoordinatesFromUrl=void 0;var r=n(0),o=n(3),i=n(2),a=function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search.slice(1));t.set("lat",r.currentUserPosition.get("latitude")),t.set("lang",r.currentUserPosition.get("longitude")),(0,o.addHistoryState)(r.currentUserPosition.get("latitude"),r.currentUserPosition.get("longitude"))};t.getCoordinatesFromUrl=a;var c=function(){var e=new URL(window.location.href),t=e.searchParams.get("lat"),n=e.searchParams.get("lang");t&&n?(0,i.setCoordinatesToMapStorage)(t,n):((0,i.setCoordinatesToMapStorage)(r.defaultCoordinates[0],r.defaultCoordinates[1]),(0,o.addHistoryState)(r.currentUserPosition.get("latitude"),r.currentUserPosition.get("longitude")))};t.getParamFromUrl=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=(r(n(9)),r(n(10)),n(25)),i=n(1),a=n(26),c=n(7),s=n(0),u=n(27),d=n(6),l=n(5),g=document.getElementById("currentPos"),f=document.getElementById("submit"),p=document.getElementById("address"),m=document.getElementById("addToFav");window.onpopstate=function(){(0,c.getParamFromUrl)(),(0,i.getForecastFromApi)(s.currentUserPosition.get("latitude"),s.currentUserPosition.get("longitude"))},g.addEventListener("click",o.getCurrentUserPosition),f.addEventListener("click",a.handlingUserInput),m.addEventListener("click",l.setCityToRecentlyFavoriteCities),p.addEventListener("keyup",function(e){13===e.which&&(0,a.handlingUserInput)()});!function(){(0,u.setUnits)("si"),(0,c.getParamFromUrl)(),(0,d.createForecastTemplate)(),(0,i.getForecastFromApi)(s.currentUserPosition.get("latitude"),s.currentUserPosition.get("longitude")),(0,c.getParamFromUrl)()}()},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClearDay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ClearNight",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Cloudy",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Target",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Fog",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Magnifier",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PartyCloudyDay",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"PartyCloudyNight",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Rain",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"Sleet",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Snow",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Wing",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"Add",{enumerable:!0,get:function(){return y.default}});var o=r(n(11)),i=r(n(12)),a=r(n(13)),c=r(n(14)),s=r(n(15)),u=r(n(16)),d=r(n(17)),l=r(n(18)),g=r(n(19)),f=r(n(20)),p=r(n(21)),m=r(n(22)),v=r(n(23)),y=r(n(24))},function(e,t,n){e.exports=n.p+"img/clear-day.svg"},function(e,t,n){e.exports=n.p+"img/clear-night.svg"},function(e,t,n){e.exports=n.p+"img/cloudy.svg"},function(e,t,n){e.exports=n.p+"img/target.svg"},function(e,t,n){e.exports=n.p+"img/fog.svg"},function(e,t,n){e.exports=n.p+"img/magnifier.svg"},function(e,t,n){e.exports=n.p+"img/partly-cloudy-day.svg"},function(e,t,n){e.exports=n.p+"img/partly-cloudy-night.svg"},function(e,t,n){e.exports=n.p+"img/rain.svg"},function(e,t,n){e.exports=n.p+"img/sleet.svg"},function(e,t,n){e.exports=n.p+"img/snow.svg"},function(e,t,n){e.exports=n.p+"img/wind.svg"},function(e,t,n){e.exports=n.p+"img/search.svg"},function(e,t,n){e.exports=n.p+"img/add.svg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUserPosition=void 0;var r=n(2),o=n(3),i=n(1),a=function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords;(0,r.setCoordinatesToMapStorage)(t.latitude,t.longitude),(0,o.addHistoryState)(t.latitude,t.longitude),(0,i.getForecastFromApi)(t.latitude,t.longitude)},function(e){return console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})};t.getCurrentUserPosition=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handlingUserInput=void 0;var r=n(1),o=n(5),i=n(2),a=n(7),c=n(0),s=function(){var e=new google.maps.Geocoder,t=document.getElementById("address").value;e.geocode({address:t},function(e,t){"OK"===t?((0,i.setCoordinatesToMapStorage)(e[0].geometry.location.lat(),e[0].geometry.location.lng()),(0,a.getCoordinatesFromUrl)(),(0,o.setCityToRecentlyViewedCities)(c.currentUserPosition.get("latitude"),c.currentUserPosition.get("longitude")),(0,r.getForecastFromApi)(c.currentUserPosition.get("latitude"),c.currentUserPosition.get("longitude")),(0,a.getParamFromUrl)()):alert("Geocode was not successful for the following reason: "+t)})};t.handlingUserInput=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUnits=void 0;var r=n(1),o=n(0),i=function(e){"si"===e?(o.units.set("units","si"),o.units.set("temperature","C"),o.units.set("speed","m/s"),o.units.set("visibility","km")):"us"===e&&(o.units.set("units","us"),o.units.set("temperature","F"),o.units.set("speed","mph"),o.units.set("visibility","mi"))};t.setUnits=i,document.getElementById("us-unit").addEventListener("click",function(){i("us"),(0,r.getForecastFromApi)(o.currentUserPosition.get("latitude"),o.currentUserPosition.get("longitude"))}),document.getElementById("si-unit").addEventListener("click",function(){i("si"),(0,r.getForecastFromApi)(o.currentUserPosition.get("latitude"),o.currentUserPosition.get("longitude"))})}]);