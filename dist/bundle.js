!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.units=t.favoriteCities=t.currentUserPosition=t.defaultCoordinates=t.appSettings=void 0;var r={container:document.getElementById("container"),apiUrl:"https://api.darksky.net/forecast/",proxy:"https://cors-anywhere.herokuapp.com/",apiKey:"c0edd7e111d453106e09ff75c17397b8",appURL:"https://iammiro.github.io/Weather-app/dist/",init:{method:"GET",mode:"cors",cache:"default"}};t.appSettings=r;var o=new Map;t.currentUserPosition=o;var a=new Map;t.favoriteCities=a;var i=new Map;t.units=i;var c=[50.4501,30.5241];t.defaultCoordinates=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWeekForecastFromApi=t.getTodayForecastFromApi=void 0;var r=n(0),o=n(21),a=function(){var e=r.currentUserPosition.get("latitude"),t=r.currentUserPosition.get("longitude"),n="".concat(r.appSettings.proxy).concat(r.appSettings.apiUrl).concat(r.appSettings.apiKey,"/").concat(e,",").concat(t,"?units=").concat(r.units.get("units"));fetch(n,r.appSettings.init).then(function(e){return e.json()}).then(function(e){(0,o.renderTodayForecast)(e)}).catch(function(e){console.log(e)})};t.getTodayForecastFromApi=a;var i=function(){var e=r.currentUserPosition.get("latitude"),t=r.currentUserPosition.get("longitude"),n="".concat(r.appSettings.proxy).concat(r.appSettings.apiUrl).concat(r.appSettings.apiKey,"/").concat(e,",").concat(t,"?units=").concat(r.units.get("units"));fetch(n,r.appSettings.init).then(function(e){return e.json()}).then(function(e){(0,o.renderWeekForecast)(e)}).catch(function(e){console.log(e)})};t.getWeekForecastFromApi=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCoordinatesToMapStorage=void 0;var r=n(0),o=function(e,t){r.currentUserPosition.set("latitude",e),r.currentUserPosition.set("longitude",t)};t.setCoordinatesToMapStorage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createContentWrapper=t.renderWeekForecastTemplate=t.renderTodayForecastTemplate=t.renderRecentlyViewedCitiesBlockItem=t.renderRecentlyViewedCitiesBlock=t.renderForecastImgItem=t.renderForecastItem=void 0;var r=n(0),o=n(22),a=function(e){d(e,"div","recently-viewed-cities-block"),d(e,"h3","recently-viewed-cities-block-header"),c("recently-viewed-cities-block-header","Recently viewed cities:")};t.renderRecentlyViewedCitiesBlock=a;var i=function(e){d(document.getElementById("recently-viewed-cities-block"),"div","".concat(e)),c("".concat(e),"".concat(e))};t.renderRecentlyViewedCitiesBlockItem=i;var c=function(e,t){document.getElementById(e).innerHTML=t};t.renderForecastItem=c;var s=function(e,t){document.getElementById(e).src=t};t.renderForecastImgItem=s;var d=function(e,t,n,r){var o=document.createElement(t);o.id=n,o.classList=r,e.appendChild(o)},u=function(){var e=document.createElement("div");e.id="content-wrapper",r.appSettings.container.appendChild(e)};t.createContentWrapper=u;var l=function(){var e=document.getElementById("content-wrapper"),t=document.createElement("div");t.id="today-forecast-wrapper";var n=document.createElement("div");n.className="today-forecast-header-wrapper";var r=document.createElement("div");r.className="today-forecast-body-wrapper",d(n,"div","windSpeed"),d(n,"div","humidity"),d(n,"div","dewPoint"),d(n,"div","uvIndex"),d(n,"div","visibility"),d(n,"div","pressure"),d(r,"img","icon"),d(r,"h1","summary"),d(r,"h2","hourlySummary"),t.appendChild(n),t.appendChild(r),e.appendChild(t),a(e)};t.renderTodayForecastTemplate=l;var p=function(){var e=document.createElement("div");e.id="week-forecast-wrapper";for(var t=0;t<8;t++){var n=document.createElement("div");n.className="header-wrapper accordion",d(n,"img","icon-".concat(t)),d(n,"h1","header-".concat(t),"week-forecast-header"),d(n,"h3","under-header-".concat(t),"week-forecast-day-temperature"),e.appendChild(n);var a=document.createElement("div");a.className="panel",d(a,"h2","summary-".concat(t)),d(a,"h1","temperature-".concat(t));var i=document.createElement("div");i.className="inner-wrapper",d(i,"div","windSpeed-".concat(t)),d(i,"div","humidity-".concat(t)),d(i,"div","dewPoint-".concat(t)),d(i,"div","uvIndex-".concat(t)),d(i,"div","pressure-".concat(t)),a.appendChild(i),e.appendChild(a)}var c=document.getElementById("content-wrapper");c.appendChild(e),r.appSettings.container.appendChild(c),(0,o.accordionForWeekForecast)()};t.renderWeekForecastTemplate=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addHistoryState=void 0;var r=n(0),o=function(e,t){history.pushState("data to be passed","Weather App","".concat(r.appSettings.appURL,"?lat=").concat(e,"&lang=").concat(t))};t.addHistoryState=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getParamFromUrl=t.getCoordinatesFromUrl=void 0;var r=n(0),o=n(4),a=n(2),i=function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search.slice(1));t.set("lat",r.currentUserPosition.get("latitude")),t.set("lang",r.currentUserPosition.get("longitude")),(0,o.addHistoryState)(r.currentUserPosition.get("latitude"),r.currentUserPosition.get("longitude"))};t.getCoordinatesFromUrl=i;var c=function(){var e=new URL(window.location.href),t=e.searchParams.get("lat"),n=e.searchParams.get("lang");t&&n?(0,a.setCoordinatesToMapStorage)(t,n):((0,a.setCoordinatesToMapStorage)(r.defaultCoordinates[0],r.defaultCoordinates[1]),(0,o.addHistoryState)(r.currentUserPosition.get("latitude"),r.currentUserPosition.get("longitude")))};t.getParamFromUrl=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=(r(n(7)),r(n(8)),n(1)),a=n(3),i=n(23),c=n(24),s=n(25),d=n(5);document.getElementById("currentPos").addEventListener("click",function(){(0,i.getCurrentUserPosition)(),setTimeout(function(){(0,o.getTodayForecastFromApi)(),(0,o.getWeekForecastFromApi)()},1e3)}),window.onpopstate=function(){(0,d.getParamFromUrl)(),(0,o.getTodayForecastFromApi)(),(0,o.getWeekForecastFromApi)()},document.getElementById("submit").addEventListener("click",s.handlingUserInput),new Promise(function(e,t){(0,c.setUnits)("si"),(0,d.getParamFromUrl)(),e("result"),t("error")}).then(function(){(0,a.createContentWrapper)(),(0,a.renderTodayForecastTemplate)(),(0,a.renderWeekForecastTemplate)(),(0,o.getTodayForecastFromApi)(),(0,d.getParamFromUrl)()},function(e){console.log(e)}).then(function(){(0,o.getWeekForecastFromApi)()},function(e){console.log(e)})},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClearDay",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ClearNight",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Cloudy",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Target",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Fog",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Magnifier",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"PartyCloudyDay",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PartyCloudyNight",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Rain",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Sleet",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Snow",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"Wing",{enumerable:!0,get:function(){return f.default}});var o=r(n(9)),a=r(n(10)),i=r(n(11)),c=r(n(12)),s=r(n(13)),d=r(n(14)),u=r(n(15)),l=r(n(16)),p=r(n(17)),m=r(n(18)),g=r(n(19)),f=r(n(20))},function(e,t,n){e.exports=n.p+"img/clear-day.svg"},function(e,t,n){e.exports=n.p+"img/clear-night.svg"},function(e,t,n){e.exports=n.p+"img/cloudy.svg"},function(e,t,n){e.exports=n.p+"img/cross-shaped-target.svg"},function(e,t,n){e.exports=n.p+"img/fog.svg"},function(e,t,n){e.exports=n.p+"img/magnifier.svg"},function(e,t,n){e.exports=n.p+"img/partly-cloudy-day.svg"},function(e,t,n){e.exports=n.p+"img/partly-cloudy-night.svg"},function(e,t,n){e.exports=n.p+"img/rain.svg"},function(e,t,n){e.exports=n.p+"img/sleet.svg"},function(e,t,n){e.exports=n.p+"img/snow.svg"},function(e,t,n){e.exports=n.p+"img/wind.svg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderWeekForecast=t.renderTodayForecast=void 0;var r=n(0),o=n(3),a=function(e){(0,o.renderForecastItem)("windSpeed","Wind: ".concat(Math.round(e.currently.windSpeed)," ").concat(r.units.get("speed"),".")),(0,o.renderForecastItem)("humidity","Humidity: ".concat(Math.round(e.currently.humidity)," %.")),(0,o.renderForecastItem)("dewPoint","Dew Pt: ".concat(Math.round(e.currently.dewPoint),"˚.")),(0,o.renderForecastItem)("uvIndex","UV Index: ".concat(Math.round(e.currently.uvIndex),".")),(0,o.renderForecastItem)("visibility","Visibility: ".concat(Math.round(e.currently.visibility),"+ ").concat(r.units.get("visibility"),".")),(0,o.renderForecastItem)("pressure","Pressure: ".concat(Math.round(e.currently.pressure)," hPa.")),(0,o.renderForecastImgItem)("icon","".concat(r.appSettings.appURL,"/img/").concat(e.currently.icon,".svg")),(0,o.renderForecastItem)("summary","Today: ".concat(Math.round(e.currently.temperature),"˚ ").concat(r.units.get("temperature"),". ").concat(e.currently.summary)),(0,o.renderForecastItem)("hourlySummary","".concat(e.hourly.summary))};t.renderTodayForecast=a;var i=function(e){e.daily.data.forEach(function(e,t){var n=new Date(1e3*e.time),a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=a[n.getDay()];(0,o.renderForecastImgItem)("icon-".concat(t),"".concat(r.appSettings.appURL,"/img/").concat(e.icon,".svg")),(0,o.renderForecastItem)("header-".concat(t),"".concat(i)),(0,o.renderForecastItem)("under-header-".concat(t),"&#9790; ".concat(Math.round(e.temperatureMin),"˚ &#8594; &#9788; ").concat(Math.round(e.temperatureMax),"˚ ").concat(r.units.get("temperature"),".")),(0,o.renderForecastItem)("summary-".concat(t),"".concat(e.summary)),(0,o.renderForecastItem)("temperature-".concat(t),"".concat(Math.round(e.temperatureMin),"˚ &#10141; ").concat(Math.round(e.temperatureMax),"˚ ").concat(r.units.get("temperature"),".")),(0,o.renderForecastItem)("windSpeed-".concat(t),"Wind: ".concat(Math.round(e.windSpeed)," ").concat(r.units.get("speed"),".")),(0,o.renderForecastItem)("humidity-".concat(t),"Humidity: ".concat(Math.round(e.humidity)," %.")),(0,o.renderForecastItem)("dewPoint-".concat(t),"Dew Pt: ".concat(Math.round(e.dewPoint),"˚.")),(0,o.renderForecastItem)("uvIndex-".concat(t),"UV Index: ".concat(Math.round(e.uvIndex),".")),(0,o.renderForecastItem)("pressure-".concat(t),"Pressure: ".concat(Math.round(e.pressure)," hPa."))})};t.renderWeekForecast=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accordionForWeekForecast=void 0;var r=function(){document.getElementById("week-forecast-wrapper").addEventListener("click",function(e){if(e.target.classList.contains("accordion")){e.target.classList.toggle("active");var t=e.target.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}})};t.accordionForWeekForecast=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUserPosition=void 0;var r=n(0),o=n(2),a=n(4),i=function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords;(0,o.setCoordinatesToMapStorage)(t.latitude,t.longitude),console.log(r.currentUserPosition),(0,a.addHistoryState)(t.latitude,t.longitude)},function(e){return console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})};t.getCurrentUserPosition=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUnits=void 0;var r=n(1),o=n(0),a=function(e){"si"===e?(o.units.set("units","si"),o.units.set("temperature","C"),o.units.set("speed","m/s"),o.units.set("visibility","km")):"us"===e&&(o.units.set("units","us"),o.units.set("temperature","F"),o.units.set("speed","mph"),o.units.set("visibility","mi"))};t.setUnits=a,document.getElementById("us-unit").addEventListener("click",function(){a("us"),(0,r.getTodayForecastFromApi)(),(0,r.getWeekForecastFromApi)()}),document.getElementById("si-unit").addEventListener("click",function(){a("si"),(0,r.getTodayForecastFromApi)(),(0,r.getWeekForecastFromApi)()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handlingUserInput=void 0;var r=n(1),o=n(26),a=n(2),i=n(5),c=function(){var e=new google.maps.Geocoder,t=document.getElementById("address").value;e.geocode({address:t},function(e,t){"OK"===t?((0,a.setCoordinatesToMapStorage)(e[0].geometry.location.lat(),e[0].geometry.location.lng()),(0,i.getCoordinatesFromUrl)(),(0,o.setCityToFavorite)(),(0,r.getTodayForecastFromApi)(),(0,r.getWeekForecastFromApi)(),(0,i.getParamFromUrl)()):alert("Geocode was not successful for the following reason: "+t)})};t.handlingUserInput=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCityToFavorite=void 0;var r=n(0),o=n(4),a=n(1),i=n(3),c=n(2),s=function(){var e=document.getElementById("address").value;r.favoriteCities.set("".concat(e),[r.currentUserPosition.get("latitude"),r.currentUserPosition.get("longitude")]);var t=r.favoriteCities.get("".concat(e)),n=t[0],s=t[1];(0,i.renderRecentlyViewedCitiesBlockItem)(e),document.getElementById("".concat(e)).addEventListener("click",function(){(0,c.setCoordinatesToMapStorage)(n,s),(0,o.addHistoryState)(n,s),(0,a.getTodayForecastFromApi)(),(0,a.getWeekForecastFromApi)()})};t.setCityToFavorite=s}]);